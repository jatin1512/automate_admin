(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardHeader",()=>s,"CardTitle",()=>i])},78928,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),a=e.i(46932),s=e.i(61911),i=e.i(5125),d=e.i(7486),l=e.i(70065),n=e.i(47163);function o({recentUsers:e,loading:r}){return(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{className:"text-xl font-semibold",children:"Recent Registrations"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"overflow-x-auto text-center",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-muted-foreground uppercase",children:"User Name"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-muted-foreground uppercase hidden sm:table-cell",children:"Email"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-muted-foreground uppercase hidden md:table-cell",children:"Mobile No"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-xs font-semibold text-muted-foreground uppercase",children:"Registration Date"})]})}),(0,t.jsx)("tbody",{children:(r?[,,,,,].fill(null):e&&e.length?e:[]).map((e,a)=>{let s=e?.id??a,i=e?.name??e?.full_name??e?.user_name??e?.user??null,d=i&&String(i).trim()?String(i).trim():"-",l=e?.email&&String(e.email).trim()?String(e.email).trim():"-",o=e?.mobile_number&&String(e.mobile_number).trim()?String(e.mobile_number).trim():e?.mobile&&String(e.mobile).trim()?String(e.mobile).trim():"-",c=e?.registration_date??e?.date??null,m=c?(0,n.formatDate)(c):"-";return(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-accent/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4 font-medium text-foreground text-sm",children:r?(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-32"}):d}),(0,t.jsx)("td",{className:"py-4 px-4 text-muted-foreground text-sm hidden sm:table-cell",children:r?(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-40"}):l}),(0,t.jsx)("td",{className:"py-4 px-4 text-muted-foreground text-sm hidden md:table-cell",children:r?(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-32"}):o}),(0,t.jsx)("td",{className:"py-4 px-4 text-muted-foreground text-sm",children:r?(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-28"}):m})]},s)})})]})})})]})}function c(){let[e,n]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{n(!0);try{let e=localStorage.getItem("token"),t=await fetch("https://automate3d-dev.com/api/user/admin/dashboard",{method:"GET",headers:{"content-type":"application/json",...e?{authorization:e}:{}}}),r=await t.json().catch(()=>({})),a=r?.code??(t.ok?200:t.status);200===a&&r?.data?m(r.data):console.error("Failed to fetch dashboard",r?.message||"Unknown error")}catch(e){console.error("Network error","Could not fetch dashboard")}finally{n(!1)}})()},[]);let x=[{title:"Total Users",value:c?String(c.totalUsers??"-"):"-",icon:s.Users,color:"from-blue-500 to-blue-600"},{title:"Total Cars",value:c?String(c.totalCars??"-"):"-",icon:i.Car,color:"from-purple-500 to-purple-600"},{title:"Active Companies",value:c?String(c.activeCompanies??"-"):"-",icon:d.Building2,color:"from-emerald-500 to-emerald-600"}],u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}};return(0,t.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-foreground",children:"Admin Dashboard Overview"}),(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mt-2",children:"A quick overview of the platform's core entities."})]}),(0,t.jsx)(a.motion.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},initial:"hidden",animate:"visible",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 lg:gap-6",children:x.map((e,r)=>{let s=e.icon;return(0,t.jsx)(a.motion.div,{variants:u,whileHover:{y:-5},children:(0,t.jsxs)(l.Card,{className:"relative overflow-hidden",children:[(0,t.jsx)(l.CardHeader,{className:"pb-2 md:pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsx)(l.CardTitle,{className:"text-xs md:text-sm font-medium text-muted-foreground",children:e.title}),(0,t.jsx)("div",{className:`p-2 rounded-lg bg-linear-to-br ${e.color}`,children:(0,t.jsx)(s,{className:"text-white",size:16})})]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("div",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-foreground",children:e.value})})})]})},e.title)})}),(0,t.jsx)(a.motion.div,{variants:u,initial:"hidden",animate:"visible",transition:{delay:.4},children:(0,t.jsx)(o,{recentUsers:c?.recentUsers,loading:e})})]})}e.s(["default",()=>c],78928)}]);