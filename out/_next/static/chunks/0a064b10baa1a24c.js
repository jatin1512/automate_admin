(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30030,e=>{"use strict";var t=e.i(71645),s=e.i(43476);function a(e,l=[]){let i=[],r=()=>{let s=i.map(e=>t.createContext(e));return function(a){let l=a?.[e]||s;return t.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return r.scopeName=e,[function(a,l){let r=t.createContext(l),n=i.length;i=[...i,l];let d=a=>{let{scope:l,children:i,...d}=a,o=l?.[e]?.[n]||r,c=t.useMemo(()=>d,Object.values(d));return(0,s.jsx)(o.Provider,{value:c,children:i})};return d.displayName=a+"Provider",[d,function(s,i){let d=i?.[e]?.[n]||r,o=t.useContext(d);if(o)return o;if(void 0!==l)return l;throw Error(`\`${s}\` must be used within \`${a}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let l=a.reduce((t,{useScope:s,scopeName:a})=>{let l=s(e)[`__scope${a}`];return{...t,...l}},{});return t.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return a.scopeName=s.scopeName,a}(r,...l)]}e.s(["createContextScope",()=>a])},48425,e=>{"use strict";var t=e.i(71645),s=e.i(74080),a=e.i(91918),l=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,s)=>{let i=t.forwardRef((e,t)=>{let{asChild:i,...r}=e,n=i?a.Slot:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...r,ref:t})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{});function r(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>r])},30207,34620,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef(e);return t.useEffect(()=>{s.current=e}),t.useMemo(()=>(...e)=>s.current?.(...e),[])}e.s(["useCallbackRef",()=>s],30207);var a=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>a],34620)},81140,e=>{"use strict";function t(e,s,{checkForDefaultPrevented:a=!0}={}){return function(t){if(e?.(t),!1===a||!t.defaultPrevented)return s?.(t)}}e.s(["composeEventHandlers",()=>t])},35804,e=>{"use strict";var t=e.i(71645),s=e.i(34620);function a(e){let[a,l]=t.useState(void 0);return(0,s.useLayoutEffect)(()=>{if(e){l({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;l({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}l(void 0)},[e]),a}e.s(["useSize",()=>a])},69340,99682,e=>{"use strict";var t=e.i(71645),s=e.i(30207);function a({prop:e,defaultProp:a,onChange:l=()=>{}}){let[i,r]=function({defaultProp:e,onChange:a}){let l=t.useState(e),[i]=l,r=t.useRef(i),n=(0,s.useCallbackRef)(a);return t.useEffect(()=>{r.current!==i&&(n(i),r.current=i)},[i,r,n]),l}({defaultProp:a,onChange:l}),n=void 0!==e,d=n?e:i,o=(0,s.useCallbackRef)(l);return[d,t.useCallback(t=>{if(n){let s="function"==typeof t?t(e):t;s!==e&&o(s)}else r(t)},[n,e,r,o])]}function l(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["useControllableState",()=>a],69340),e.s(["usePrevious",()=>l],99682)},78784,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["CheckIcon",()=>t],78784)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},71428,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",e),...a})}e.s(["Skeleton",()=>a])},23750,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,type:a,...l}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>a])},70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>r,"CardHeader",()=>l,"CardTitle",()=>i])},27612,37727,60102,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>s],27612);var a=e.i(43476),l=e.i(46932);let i=(0,t.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>i],37727);let r=(0,t.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),n=(0,t.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var d=e.i(47163);function o({className:e,...t}){return(0,a.jsx)(n,{role:"status","aria-label":"Loading",className:(0,d.cn)("size-4 animate-spin",e),...t})}var c=e.i(67881);let u={hidden:{opacity:0,scale:.95,y:-20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},m={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},x={hidden:{scale:0},visible:{scale:1,transition:{type:"spring",stiffness:200,damping:20,delay:.1}}};function h({isOpen:e,onClose:t,onConfirm:s,title:n,description:d,itemName:h,isLoading:p=!1}){return e?(0,a.jsx)(l.motion.div,{variants:m,initial:"hidden",animate:"visible",exit:"exit",onClick:t,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)(l.motion.div,{variants:u,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,a.jsx)(l.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,a.jsx)(i,{size:24})})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 px-6",children:[(0,a.jsx)(l.motion.div,{variants:x,initial:"hidden",animate:"visible",className:"w-24 h-24 rounded-full bg-red-50 flex items-center justify-center mb-6",children:(0,a.jsx)(r,{size:48,className:"text-red-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground text-center mb-3",children:n}),(0,a.jsxs)("p",{className:"text-center text-muted-foreground leading-relaxed mb-8",children:[d,h&&(0,a.jsxs)("span",{className:"font-semibold",children:[" '",h,"'"]})]}),(0,a.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,a.jsx)(l.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:(0,a.jsx)(c.Button,{onClick:t,variant:"outline",className:"w-full rounded-lg font-semibold",disabled:p,children:"No, Cancel"})}),(0,a.jsx)(l.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:(0,a.jsx)(c.Button,{onClick:s,className:"w-full rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold flex items-center justify-center",disabled:p,children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{className:"mr-2 h-4 w-4"}),"Deleting..."]}):"Yes, Delete"})})]})]})]})}):null}e.s(["default",()=>h],60102)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},40756,e=>{"use strict";e.i(47167);var t=e.i(43476),s=e.i(71645),a=e.i(7233),l=e.i(86536),i=e.i(92930),r=e.i(27612),n=e.i(67881),d=e.i(70065),o=e.i(62870),c=e.i(46932),u=e.i(37727),m=e.i(23750),x=e.i(5766);let h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};function f({isOpen:e,onClose:a,onSave:l,companies:i=[],years:r=[],models:d=[],initial:f}){if(!e)return null;let[b,g]=(0,s.useState)(f?.modelId??""),[j,v]=(0,s.useState)(""),[y,N]=(0,s.useState)(f?.name??""),[w,C]=(0,s.useState)(f?.transmission??""),[S,k]=(0,s.useState)(f?.fuelType??""),[M,I]=(0,s.useState)(f?.engine??""),[T,P]=(0,s.useState)(f?.horsePower??""),[z,A]=(0,s.useState)(f?.torque??""),[E,$]=(0,s.useState)(f?.mileage??""),[L,B]=(0,s.useState)(!1),O=d.find(e=>e.id===Number(b)),Y=i.find(e=>e.id===O?.carCompanyId),H=r.find(e=>e.id===O?.modelYearId);return(0,s.useEffect)(()=>{f&&(g(f.modelId??""),N(f.name??""),C(f.transmission??""),k(f.fuelType??""),I(f.engine??""),P(f.horsePower??""),A(f.torque??""),$(f.mileage??""))},[f]),(0,t.jsx)(c.motion.div,{variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:a,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(c.motion.div,{variants:h,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:f?.id?"Edit Car Sub-Model":"Add New Car Sub-Model"}),(0,t.jsx)("button",{onClick:a,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(u.X,{size:24})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Car Model ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)(o.Select,{value:String(b??""),onValueChange:e=>g(""===e?"":Number(e)),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select a Model..."})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)("div",{className:"px-3 py-2 sticky top-0 bg-background border-b",children:(0,t.jsx)(m.Input,{placeholder:"Type to filter models...",value:j,onChange:e=>v(e.target.value),className:"text-sm"})}),(j?d.filter(e=>(e.name||"").toLowerCase().includes(j.toLowerCase())):d).map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id)),d.length>0&&j&&0===d.filter(e=>(e.name||"").toLowerCase().includes(j.toLowerCase())).length?(0,t.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground",children:"No matching model found."}):null]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Car Company"}),(0,t.jsx)(m.Input,{disabled:!0,value:Y?.name||"Select model first",className:"bg-muted"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Year"}),(0,t.jsx)(m.Input,{disabled:!0,value:H?.year||"Select model first",className:"bg-muted"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Sub model Name ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)(m.Input,{placeholder:"e.g., Camry LE",value:y,onChange:e=>N(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Transmission"}),(0,t.jsx)(m.Input,{placeholder:"e.g., Automatic",value:w,onChange:e=>C(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Fuel Type"}),(0,t.jsx)(m.Input,{placeholder:"e.g., Gasoline",value:S,onChange:e=>k(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Engine"}),(0,t.jsx)(m.Input,{placeholder:"e.g., 2.5L I-4",value:M,onChange:e=>I(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Horse Power"}),(0,t.jsx)(m.Input,{placeholder:"e.g., 203 hp",value:T,onChange:e=>P(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Torque"}),(0,t.jsx)(m.Input,{placeholder:"e.g., 184 lb-ft",value:z,onChange:e=>A(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Mileage"}),(0,t.jsx)(m.Input,{placeholder:"e.g., 25 MPG",value:E,onChange:e=>$(e.target.value)})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 p-6 border-t justify-end bg-gray-50",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:a,disabled:L,children:"Cancel"}),(0,t.jsx)(c.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsx)(n.Button,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:async()=>{if(!l)return a();if(!b||!y)return void x.default.error("Please fill in required fields");B(!0);try{await l({modelId:Number(b),modelYearId:O?.modelYearId,carCompanyId:O?.carCompanyId,name:y,transmission:w,fuelType:S,engine:M,horsePower:T,torque:z,mileage:E},f?.id)}finally{B(!1)}a()},disabled:L||!b||!y,children:L?"Saving...":"Save"})})]})]})})}let b={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};function j({isOpen:e,onClose:s,subModel:a}){return e&&a?(0,t.jsx)(c.motion.div,{variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:s,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(c.motion.div,{variants:b,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded bg-gray-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"ðŸŽï¸"})}),(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Car Sub-Model Details"})]}),(0,t.jsx)(c.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:s,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(u.X,{size:24})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Sub Model Name"}),(0,t.jsx)("p",{className:"font-bold text-lg",children:a.name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Car Model"}),(0,t.jsx)("p",{className:"font-bold text-lg",children:a.model?.name||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Company"}),(0,t.jsx)("p",{className:"font-bold",children:a.carcompany?.name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Year"}),(0,t.jsx)("p",{className:"font-bold",children:a.modelyear?.year||"N/A"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Transmission"}),(0,t.jsx)("p",{className:"font-bold",children:a.transmission||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Fuel Type"}),(0,t.jsx)("p",{className:"font-bold",children:a.fuelType||"N/A"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Engine"}),(0,t.jsx)("p",{className:"font-bold",children:a.engine||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Horse Power"}),(0,t.jsx)("p",{className:"font-bold",children:a.horsePower||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Torque"}),(0,t.jsx)("p",{className:"font-bold",children:a.torque||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Mileage"}),(0,t.jsx)("p",{className:"font-bold",children:a.mileage||"N/A"})]})]})]})})]})}):null}var v=e.i(60102),y=e.i(71428);let N="http://localhost:3000/api";function w(){let[e,c]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(null),[b,g]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),[S,k]=(0,s.useState)([]),[M,I]=(0,s.useState)([]),[T,P]=(0,s.useState)([]),[z,A]=(0,s.useState)([]),[E,$]=(0,s.useState)(!1),[L,B]=(0,s.useState)(null),[O,Y]=(0,s.useState)(1),[H,R]=(0,s.useState)(20),[V,q]=(0,s.useState)(null),[D,F]=(0,s.useState)("all"),[_,X]=(0,s.useState)("all"),[J,U]=(0,s.useState)("all"),[G,K]=(0,s.useState)({open:!1,subModel:null,isLoading:!1});function W(){try{return localStorage.getItem("token")||""}catch(e){return""}}let Q=(0,s.useCallback)(async(e=O,t=H)=>{$(!0);try{let s=W(),a=await fetch(`${N}/car/all-car-sub-model-pagination?page=${e}&limit=${t}`,{headers:s?{authorization:s}:void 0}),l=await a.json(),i=l?.code??(a.ok?200:a.status);200===i?(g(l.data?.subModels||l.data||[]),q(l.data?.pagination||null)):x.default.error(l?.message||"Failed to load sub models")}catch(e){x.default.error("Network error")}finally{$(!1)}},[O,H]),Z=(0,s.useCallback)(async()=>{try{let e=W(),[t,s,a]=await Promise.all([fetch(`${N}/car/car-company`,{headers:e?{authorization:e}:void 0}),fetch(`${N}/car/model-year`,{headers:e?{authorization:e}:void 0}),fetch(`${N}/car/all-car-model`,{headers:e?{authorization:e}:void 0})]),[l,i,r]=await Promise.all([t.json(),s.json(),a.json()]),n=l?.code??(t.ok?200:t.status);200===n&&k(l.data||[]);let d=i?.code??(s.ok?200:s.status);200===d&&I(i.data||[]);let o=r?.code??(a.ok?200:a.status);200===o&&(P(r.data||[]),A(r.data||[]))}catch(e){console.error("Failed to load filters:",e)}},[]);async function ee(e,t){let s=W();try{if(t){let a=await fetch(`${N}/car/edit-car-sub-model/${t}`,{method:"POST",headers:{"content-type":"application/json",...s?{authorization:s}:{}},body:JSON.stringify(e)}),l=await a.json(),i=l?.code??(a.ok?200:a.status);200===i?(x.default.success(l.message||"Sub model updated"),await Q()):x.default.error(l?.message||"Update failed")}else{let t=await fetch(`${N}/car/add-car-sub-model`,{method:"POST",headers:{"content-type":"application/json",...s?{authorization:s}:{}},body:JSON.stringify(e)}),a=await t.json(),l=a?.code??(t.ok?200:t.status);if(200===l){x.default.success(a.message||"Sub model added");let t=a.data?.id;if(t){let a={modelYearId:e.modelYearId,carCompanyId:e.carCompanyId,modelId:e.modelId,subModelId:t,transmission:e.transmission,fuelType:e.fuelType,engine:e.engine,horsePower:e.horsePower,torque:e.torque},l=await fetch(`${N}/car/add-admin-car`,{method:"POST",headers:{"content-type":"application/json",...s?{authorization:s}:{}},body:JSON.stringify(a)}),i=await l.json();(i?.code??(l.ok?200:l.status))===200&&x.default.success("Admin car created successfully")}await Q()}else x.default.error(a?.message||"Add failed")}}catch(e){x.default.error("Network error")}}async function et(e){let t=W();K(e=>({...e,isLoading:!0}));try{let s=await fetch(`${N}/car/car-sub-model/${e}`,{method:"DELETE",headers:t?{authorization:t}:void 0}),a=await s.json(),l=a?.code??(s.ok?200:s.status);200===l?(x.default.success(a.message||"Deleted"),await Q()):x.default.error(a?.message||"Delete failed")}catch(e){x.default.error("Network error")}finally{K({open:!1,subModel:null,isLoading:!1})}}(0,s.useEffect)(()=>{Q(O,H)},[O,H,Q]),(0,s.useEffect)(()=>{Z()},[Z]);let es=(0,s.useMemo)(()=>b.filter(e=>{let t=!0;if("all"!==D){let s=Number(D);t=t&&(e.modelYearId===s||e.modelyear?.id===s)}if("all"!==_){let s=Number(_);t=t&&(e.carCompanyId===s||e.carcompany?.id===s)}if("all"!==J){let s=Number(J);t=t&&(e.modelId===s||e.model?.id===s)}return t}),[b,D,_,J]),ea=(0,s.useCallback)(()=>{F("all"),X("all"),U("all")},[]),el=(0,s.useCallback)(e=>{p(e),m(!0)},[]);return(0,t.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-0",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Car Sub Models Management"})}),(0,t.jsx)("div",{children:(0,t.jsxs)(n.Button,{onClick:()=>{B(null),c(!0)},className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white gap-2 text-sm md:text-base",children:[(0,t.jsx)(a.Plus,{size:18}),"Add New Sub Model"]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)(d.Card,{children:(0,t.jsx)(d.CardContent,{className:"pt-4 md:pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row flex-wrap gap-2 md:gap-4 items-start md:items-center justify-between w-full",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center",children:[(0,t.jsxs)(o.Select,{value:D,onValueChange:F,children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full sm:w-40 text-sm",children:(0,t.jsx)(o.SelectValue,{placeholder:"Filter by Year"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Years"}),M.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.year},e.id))]})]}),(0,t.jsxs)(o.Select,{value:_,onValueChange:X,children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full sm:w-40 text-sm",children:(0,t.jsx)(o.SelectValue,{placeholder:"Filter by Company"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Companies"}),S.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))]})]}),(0,t.jsxs)(o.Select,{value:J,onValueChange:U,children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full sm:w-40 text-sm",children:(0,t.jsx)(o.SelectValue,{placeholder:"Filter by Car Model"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Models"}),T.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))]})]}),(0,t.jsx)(n.Button,{variant:"outline",onClick:ea,className:"w-full sm:w-auto text-sm",children:"Clear Filters"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-xs text-muted-foreground whitespace-nowrap",children:"Show"}),(0,t.jsxs)("select",{value:H,onChange:e=>{R(Number(e.target.value)||20),Y(1)},className:"text-sm bg-background border border-border rounded px-2 py-1",children:[(0,t.jsx)("option",{value:20,children:"20"}),(0,t.jsx)("option",{value:50,children:"50"}),(0,t.jsx)("option",{value:100,children:"100"}),(0,t.jsx)("option",{value:150,children:"150"}),(0,t.jsx)("option",{value:200,children:"200"})]})]})]})})})}),(0,t.jsx)("div",{children:(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"pt-4 md:pt-6",children:[(0,t.jsx)("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase",children:"Sub Model Name"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase hidden sm:table-cell",children:"Car Model Name"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase hidden md:table-cell",children:"Company"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase hidden lg:table-cell",children:"Year"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:(E?[,,,,,].fill(null):es).map((e,s)=>e?(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-accent/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 font-medium text-foreground text-sm",children:e.name}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-blue-600 hidden sm:table-cell text-sm",children:e.model?.name}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-muted-foreground hidden md:table-cell text-sm",children:e.carcompany?.name}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-muted-foreground hidden lg:table-cell text-sm",children:e.modelyear?.year}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsxs)("div",{className:"flex gap-2 md:gap-3",children:[(0,t.jsx)("button",{onClick:()=>el(e),className:"text-blue-600 hover:text-blue-700",children:(0,t.jsx)(l.Eye,{size:16})}),(0,t.jsx)("button",{onClick:()=>{B(e),c(!0)},className:"text-blue-600 hover:text-blue-700",children:(0,t.jsx)(i.Edit2,{size:16})}),(0,t.jsx)("button",{onClick:()=>K({open:!0,subModel:e,isLoading:!1}),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(r.Trash2,{size:16})})]})})]},e.id):(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsx)(y.Skeleton,{className:"h-4 w-24"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 hidden sm:table-cell",children:(0,t.jsx)(y.Skeleton,{className:"h-4 w-20"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 hidden md:table-cell",children:(0,t.jsx)(y.Skeleton,{className:"h-4 w-16"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 hidden lg:table-cell",children:(0,t.jsx)(y.Skeleton,{className:"h-4 w-12"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsx)(y.Skeleton,{className:"h-6 w-20"})})]},`skeleton-${s}`))})]})}),V&&(0,t.jsxs)("div",{className:"mt-4 md:mt-6 flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-0",children:[(0,t.jsxs)("p",{className:"text-xs md:text-sm text-muted-foreground",children:["Showing"," ",V?(V.currentPage-1)*V.perPage+1:1," ","to"," ",V?Math.min(V.currentPage*V.perPage,V.total):b.length||0," ","of ",V?.total??b.length??0," results"]}),(0,t.jsxs)("div",{className:"flex gap-1 md:gap-2 overflow-x-auto",children:[(0,t.jsx)(n.Button,{variant:"outline",size:"sm",disabled:O<=1,onClick:()=>Y(e=>Math.max(1,e-1)),className:"text-xs md:text-sm",children:"â†"}),(()=>{let e=V?.totalPages??1,s=[];if(e<=6)for(let t=1;t<=e;t++)s.push(t);else{for(let t=1;t<=Math.min(3,e);t++)s.push(t);O>3&&O<e-2&&(O>4&&s.push(-1),s.push(O)),e>3&&s.push(-2);for(let t=Math.max(e-2,4);t<=e;t++)s.push(t)}return s.map((e,s)=>e<0?(0,t.jsx)("span",{className:"px-2 text-muted-foreground",children:"..."},`ellipsis-${s}`):(0,t.jsx)(n.Button,{variant:e===O?"default":"outline",size:"sm",className:`text-xs md:text-sm ${e===O?"bg-blue-600":""}`,onClick:()=>Y(e),children:e},e))})(),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",disabled:!!V&&O>=V.totalPages,onClick:()=>Y(e=>e+1),className:"text-xs md:text-sm",children:"â†’"})]})]})]})})}),e&&(0,t.jsx)(f,{isOpen:e,onClose:()=>{c(!1),B(null)},onSave:ee,companies:S,years:M,models:z,initial:L}),u&&h&&(0,t.jsx)(j,{isOpen:u,onClose:()=>m(!1),subModel:h}),G.open&&(0,t.jsx)(v.default,{isOpen:G.open,onClose:()=>K({open:!1,subModel:null,isLoading:!1}),onConfirm:async()=>{G.subModel?.id&&await et(G.subModel.id)},title:"Delete Car Sub-model Confirmation",description:"You are about to permanently delete the car sub model. This action will also delete all related cars, and cannot be undone. Do you want to proceed?",itemName:G.subModel?.name,isLoading:G.isLoading})]})}e.s(["default",()=>w],40756)}]);