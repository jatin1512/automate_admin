(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},30030,e=>{"use strict";var t=e.i(71645),a=e.i(43476);function l(e,s=[]){let r=[],i=()=>{let a=r.map(e=>t.createContext(e));return function(l){let s=l?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...l,[e]:s}}),[l,s])}};return i.scopeName=e,[function(l,s){let i=t.createContext(s),d=r.length;r=[...r,s];let n=l=>{let{scope:s,children:r,...n}=l,o=s?.[e]?.[d]||i,c=t.useMemo(()=>n,Object.values(n));return(0,a.jsx)(o.Provider,{value:c,children:r})};return n.displayName=l+"Provider",[n,function(a,r){let n=r?.[e]?.[d]||i,o=t.useContext(n);if(o)return o;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${l}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let l=()=>{let l=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=l.reduce((t,{useScope:a,scopeName:l})=>{let s=a(e)[`__scope${l}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:s}),[s])}};return l.scopeName=a.scopeName,l}(i,...s)]}e.s(["createContextScope",()=>l])},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),l=e.i(91918),s=e.i(43476),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let r=t.forwardRef((e,t)=>{let{asChild:r,...i}=e,d=r?l.Slot:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(d,{...i,ref:t})});return r.displayName=`Primitive.${a}`,{...e,[a]:r}},{});function i(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>r,"dispatchDiscreteCustomEvent",()=>i])},30207,34620,e=>{"use strict";var t=e.i(71645);function a(e){let a=t.useRef(e);return t.useEffect(()=>{a.current=e}),t.useMemo(()=>(...e)=>a.current?.(...e),[])}e.s(["useCallbackRef",()=>a],30207);var l=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>l],34620)},81140,e=>{"use strict";function t(e,a,{checkForDefaultPrevented:l=!0}={}){return function(t){if(e?.(t),!1===l||!t.defaultPrevented)return a?.(t)}}e.s(["composeEventHandlers",()=>t])},35804,e=>{"use strict";var t=e.i(71645),a=e.i(34620);function l(e){let[l,s]=t.useState(void 0);return(0,a.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,l;if(!Array.isArray(t)||!t.length)return;let r=t[0];if("borderBoxSize"in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,l=t.blockSize}else a=e.offsetWidth,l=e.offsetHeight;s({width:a,height:l})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),l}e.s(["useSize",()=>l])},69340,99682,e=>{"use strict";var t=e.i(71645),a=e.i(30207);function l({prop:e,defaultProp:l,onChange:s=()=>{}}){let[r,i]=function({defaultProp:e,onChange:l}){let s=t.useState(e),[r]=s,i=t.useRef(r),d=(0,a.useCallbackRef)(l);return t.useEffect(()=>{i.current!==r&&(d(r),i.current=r)},[r,i,d]),s}({defaultProp:l,onChange:s}),d=void 0!==e,n=d?e:r,o=(0,a.useCallbackRef)(s);return[n,t.useCallback(t=>{if(d){let a="function"==typeof t?t(e):t;a!==e&&o(a)}else i(t)},[d,e,i,o])]}function s(e){let a=t.useRef({value:e,previous:e});return t.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}e.s(["useControllableState",()=>l],69340),e.s(["usePrevious",()=>s],99682)},78784,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["CheckIcon",()=>t],78784)},23750,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function l({className:e,type:l,...s}){return(0,t.jsx)("input",{type:l,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>l])},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function l({className:e,...l}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...l})}function s({className:e,...l}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...l})}function r({className:e,...l}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...l})}function i({className:e,...l}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...l})}e.s(["Card",()=>l,"CardContent",()=>i,"CardHeader",()=>s,"CardTitle",()=>r])},27612,37727,60102,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],27612);var l=e.i(43476),s=e.i(46932);let r=(0,t.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>r],37727);let i=(0,t.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),d=(0,t.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var n=e.i(47163);function o({className:e,...t}){return(0,l.jsx)(d,{role:"status","aria-label":"Loading",className:(0,n.cn)("size-4 animate-spin",e),...t})}var c=e.i(67881);let m={hidden:{opacity:0,scale:.95,y:-20},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},u={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},x={hidden:{scale:0},visible:{scale:1,transition:{type:"spring",stiffness:200,damping:20,delay:.1}}};function h({isOpen:e,onClose:t,onConfirm:a,title:d,description:n,itemName:h,isLoading:p=!1}){return e?(0,l.jsx)(s.motion.div,{variants:u,initial:"hidden",animate:"visible",exit:"exit",onClick:t,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,l.jsxs)(s.motion.div,{variants:m,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,l.jsx)(s.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,className:"text-muted-foreground hover:text-foreground transition-colors",children:(0,l.jsx)(r,{size:24})})}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center pt-12 pb-8 px-6",children:[(0,l.jsx)(s.motion.div,{variants:x,initial:"hidden",animate:"visible",className:"w-24 h-24 rounded-full bg-red-50 flex items-center justify-center mb-6",children:(0,l.jsx)(i,{size:48,className:"text-red-600"})}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-foreground text-center mb-3",children:d}),(0,l.jsxs)("p",{className:"text-center text-muted-foreground leading-relaxed mb-8",children:[n,h&&(0,l.jsxs)("span",{className:"font-semibold",children:[" '",h,"'"]})]}),(0,l.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,l.jsx)(s.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:(0,l.jsx)(c.Button,{onClick:t,variant:"outline",className:"w-full rounded-lg font-semibold",disabled:p,children:"No, Cancel"})}),(0,l.jsx)(s.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1",children:(0,l.jsx)(c.Button,{onClick:a,className:"w-full rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold flex items-center justify-center",disabled:p,children:p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{className:"mr-2 h-4 w-4"}),"Deleting..."]}):"Yes, Delete"})})]})]})]})}):null}e.s(["default",()=>h],60102)},92930,e=>{"use strict";let t=(0,e.i(75254).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],92930)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},79543,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(71645),l=e.i(7233),s=e.i(86536),r=e.i(92930),i=e.i(27612),d=e.i(67881),n=e.i(70065),o=e.i(62870),c=e.i(46932),m=e.i(37727),u=e.i(75254);let x=(0,u.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),h=(0,u.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),p=(0,u.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var f=e.i(23750),g=e.i(5766);let b="https://automate3d-dev.com/api",j={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},v={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};function y({isOpen:e,onClose:l,onSave:s,companies:r=[],years:i=[],initial:n}){if(!e)return null;let[u,y]=(0,a.useState)(n?.modelYearId??""),[N,w]=(0,a.useState)(n?.carCompanyId??""),[S,C]=(0,a.useState)(n?.modelId??""),[k,M]=(0,a.useState)(n?.subModelId??""),[z,I]=(0,a.useState)(n?.carImage??""),[T,A]=(0,a.useState)(n?.car3dModel??""),[E,P]=(0,a.useState)(n?.carManualyFile??""),[$,H]=(0,a.useState)(null),[D,O]=(0,a.useState)(null),[V,F]=(0,a.useState)(null),[B,L]=(0,a.useState)(""),[Y,_]=(0,a.useState)(""),[R,q]=(0,a.useState)(""),[U,X]=(0,a.useState)(""),[W,G]=(0,a.useState)(""),[J,K]=(0,a.useState)(""),[Z,Q]=(0,a.useState)([]),[ee,et]=(0,a.useState)([]),[ea,el]=(0,a.useState)(!1),[es,er]=(0,a.useState)(!1),[ei,ed]=(0,a.useState)(!1),[en,eo]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{er(!0);try{let e=localStorage.getItem("token"),t=await fetch(`${b}/car/all-car-model`,{headers:{...e?{authorization:e}:{}}}),a=await t.json();(a?.code??(t.ok?200:t.status))===200?Q(Array.isArray(a.data)?a.data:[]):Q([])}catch(e){console.error("Error fetching models:",e),Q([])}finally{er(!1)}})()},[]),(0,a.useEffect)(()=>{if(S&&Z.length>0){let e=Z.find(e=>e.id===Number(S));e&&(e.modelYearId&&!u&&y(e.modelYearId),e.carCompanyId&&!N&&w(e.carCompanyId))}},[S,Z]),(0,a.useEffect)(()=>{(async()=>{if(!S)return et([]);ed(!0);try{let e=localStorage.getItem("token"),t=await fetch(`${b}/car/car-sub-model-with-modelId/${S}`,{headers:{...e?{authorization:e}:{}}}),a=await t.json();(a?.code??(t.ok?200:t.status))===200?et(Array.isArray(a.data)?a.data:[]):et([])}catch(e){console.error("Error fetching submodels:",e),et([])}finally{ed(!1)}})()},[S]),(0,a.useEffect)(()=>{(async()=>{if(!k){L(""),_(""),q(""),X(""),G(""),K(""),eo(!1);return}try{let e=localStorage.getItem("token"),t=await fetch(`${b}/car/car-sub-model/${k}`,{headers:{...e?{authorization:e}:{}}}),a=await t.json();if((a?.code??(t.ok?200:t.status))===200&&a.data){let e=a.data;L(e.transmission||""),_(e.fuelType||""),q(e.engine||""),X(e.horsePower||""),G(e.torque||""),K(e.mileage||""),eo(!0)}}catch(e){console.error("Error fetching submodel details:",e)}})()},[k]);let ec=async e=>{if(!e)return g.default.error("No file provided"),null;let t=new FormData;t.append("file",e,e.name),console.log("Uploading file:",e.name,"Size:",e.size,"Type:",e.type);try{let e=localStorage.getItem("token"),a={};e&&(a.authorization=e);let l=await fetch(`${b}/user/profile-image`,{method:"POST",headers:a,body:t}),s=await l.json();if((s?.code??(l.ok?200:l.status))===200&&s.data?.name)return s.data.name;return g.default.error(s?.message||"Upload failed"),null}catch(e){return console.error("Upload error:",e),g.default.error("Network error during upload"),null}};return(0,t.jsx)(c.motion.div,{variants:v,initial:"hidden",animate:"visible",exit:"exit",onClick:l,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(c.motion.div,{variants:j,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:n?.id?"Edit Car Details":"Add New Car"}),(0,t.jsx)("button",{onClick:l,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(m.X,{size:24})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Car Model"}),(0,t.jsxs)(o.Select,{value:String(S??""),onValueChange:e=>C(""===e?"":Number(e)),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:es?"Loading...":"Select Car Model"})}),(0,t.jsx)(o.SelectContent,{className:"max-h-[300px] overflow-y-auto",children:Z.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Car Sub Model"}),(0,t.jsxs)(o.Select,{value:String(k??""),onValueChange:e=>M(""===e?"":Number(e)),disabled:!S||ei,children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:ei?"Loading...":"Select Car Sub Model"})}),(0,t.jsx)(o.SelectContent,{className:"max-h-[300px] overflow-y-auto",children:ee.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Year"}),(0,t.jsxs)(o.Select,{value:String(u??""),onValueChange:e=>y(""===e?"":Number(e)),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select Year"})}),(0,t.jsx)(o.SelectContent,{className:"max-h-[300px] overflow-y-auto",children:i.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id??e.year),children:e.year??e},e.id??e.year))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Company"}),(0,t.jsxs)(o.Select,{value:String(N??""),onValueChange:e=>w(""===e?"":Number(e)),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select Company"})}),(0,t.jsx)(o.SelectContent,{className:"max-h-[300px] overflow-y-auto",children:r.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))})]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Car Image"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center hover:bg-accent/50 transition-colors relative",children:[(0,t.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.webp",onChange:e=>{let t=e.target.files?.[0];t&&H(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),$?(0,t.jsx)(p,{size:24,className:"mx-auto mb-2 text-blue-600"}):z?(0,t.jsx)(p,{size:24,className:"mx-auto mb-2 text-green-600"}):(0,t.jsx)(x,{size:24,className:"mx-auto mb-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:$?$.name:z?z.split("/").pop():"Click to upload"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Car Manual (PDF)"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center hover:bg-accent/50 transition-colors relative",children:[(0,t.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{let t=e.target.files?.[0];t&&F(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),V?(0,t.jsx)(h,{size:24,className:"mx-auto mb-2 text-blue-600"}):E?(0,t.jsx)(h,{size:24,className:"mx-auto mb-2 text-green-600"}):(0,t.jsx)(x,{size:24,className:"mx-auto mb-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:V?V.name:E?E.split("/").pop():"Click to upload"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Car 3D Model"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-4 text-center hover:bg-accent/50 transition-colors relative",children:[(0,t.jsx)("input",{type:"file",accept:".glb,.usdz",onChange:e=>{let t=e.target.files?.[0];t&&O(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),D?(0,t.jsx)(h,{size:24,className:"mx-auto mb-2 text-blue-600"}):T?(0,t.jsx)(h,{size:24,className:"mx-auto mb-2 text-green-600"}):(0,t.jsx)(x,{size:24,className:"mx-auto mb-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:D?D.name:T?T.split("/").pop():"Click to upload"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Transmission"}),(0,t.jsx)(f.Input,{placeholder:"Automatic",value:B,onChange:e=>L(e.target.value),className:en?"bg-green-50":"",readOnly:en})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Fuel Type"}),(0,t.jsx)(f.Input,{placeholder:"Gasoline",value:Y,onChange:e=>_(e.target.value),className:en?"bg-green-50":"",readOnly:en})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Engine"}),(0,t.jsx)(f.Input,{placeholder:"2.5L 4-Cylinder",value:R,onChange:e=>q(e.target.value),className:en?"bg-green-50":"",readOnly:en})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Horse Power"}),(0,t.jsx)(f.Input,{placeholder:"203 hp",value:U,onChange:e=>X(e.target.value),className:en?"bg-green-50":"",readOnly:en})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Torque"}),(0,t.jsx)(f.Input,{placeholder:"184 lb-ft",value:W,onChange:e=>G(e.target.value),className:en?"bg-green-50":"",readOnly:en})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Mileage"}),(0,t.jsx)(f.Input,{placeholder:"25 MPG",value:J,onChange:e=>K(e.target.value),className:en?"bg-green-50":"",readOnly:en})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 p-6 border-t justify-end bg-gray-50",children:[(0,t.jsx)(d.Button,{variant:"outline",onClick:l,disabled:ea,children:"Cancel"}),(0,t.jsx)("div",{children:(0,t.jsx)(d.Button,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:async()=>{if(!s)return l();el(!0);try{let e=z,t=T,a=E;if($){let t=await ec($);if(t)e=t,g.default.success("Image uploaded");else{g.default.error("Failed to upload image"),el(!1);return}}if(D){let e=await ec(D);if(e)t=e,g.default.success("3D Model uploaded");else{g.default.error("Failed to upload 3D model"),el(!1);return}}if(V){let e=await ec(V);if(e)a=e,g.default.success("Manual uploaded");else{g.default.error("Failed to upload manual"),el(!1);return}}await s({modelYearId:u,carCompanyId:N,modelId:S,subModelId:k,carImage:e,car3dModel:t,carManualyFile:a},n?.id)}finally{el(!1)}l()},disabled:ea||!u||!N||!S,children:ea?"Saving...":"Save"})})]})]})})}var N=e.i(60102);let w=(0,u.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),S={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:30}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},C={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}};function k({isOpen:e,onClose:a,car:l}){if(!e||!l)return null;let s=(e,t)=>{if(!e)return;let a=`https://automate3d-dev.com/automate_api/dist/uploads/${e}`,l=document.createElement("a");l.href=a,l.download=t,l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(0,t.jsx)(c.motion.div,{variants:C,initial:"hidden",animate:"visible",exit:"exit",onClick:a,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(c.motion.div,{variants:S,initial:"hidden",animate:"visible",exit:"exit",onClick:e=>e.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded bg-gray-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-600",children:"ðŸš—"})}),(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Car Details"})]}),(0,t.jsx)(c.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:a,className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(m.X,{size:24})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(c.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-100 rounded-lg h-80 flex items-center justify-center overflow-hidden",children:(0,t.jsx)("img",{src:`https://automate3d-dev.com/automate_api/dist/uploads/${l.carImage}`,alt:l.model?.name||"Car",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/placeholder.svg"}})}),(0,t.jsxs)(c.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Car Model Name"}),(0,t.jsx)("p",{className:"font-bold text-lg",children:l.model?.name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Car Sub model name"}),(0,t.jsx)("p",{className:"font-bold text-lg",children:l.submodel?.name||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Company"}),(0,t.jsx)("p",{className:"font-bold",children:l.carcompany?.name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Year"}),(0,t.jsx)("p",{className:"font-bold",children:l.modelyear?.year||"N/A"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Transmission"}),(0,t.jsx)("p",{className:"font-bold",children:l.submodel?.transmission||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Fuel Type"}),(0,t.jsx)("p",{className:"font-bold",children:l.submodel?.fuelType||"N/A"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Engine"}),(0,t.jsx)("p",{className:"font-bold",children:l.submodel?.engine||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Horse Power"}),(0,t.jsx)("p",{className:"font-bold",children:l.submodel?.horsePower||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Torque"}),(0,t.jsx)("p",{className:"font-bold",children:l.submodel?.torque||"N/A"})]})]}),(0,t.jsxs)("div",{className:"space-y-2 pt-4",children:[l.carManualyFile&&(0,t.jsx)(c.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)(d.Button,{onClick:()=>s(l.carManualyFile,`${l.model?.name||"car"}-manual.pdf`),className:"w-full bg-blue-600 hover:bg-blue-700 text-white gap-2 rounded-lg font-semibold",children:[(0,t.jsx)(w,{size:18}),"Download Car Manual"]})}),l.car3dModel&&(0,t.jsx)(c.motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)(d.Button,{onClick:()=>s(l.car3dModel,`${l.model?.name||"car"}-3d-model${l.car3dModel.endsWith(".usdz")?".usdz":".glb"}`),variant:"outline",className:"w-full gap-2 rounded-lg font-semibold",children:[(0,t.jsx)("span",{children:"ðŸ“¦"}),"Download 3D Model"]})})]})]})]})})]})})}let M="https://automate3d-dev.com/api";function z(){let[e,c]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[x,h]=(0,a.useState)([]),[p,f]=(0,a.useState)(1),[b,j]=(0,a.useState)(20),[v,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(!0),[z,I]=(0,a.useState)([]),[T,A]=(0,a.useState)([]),[E,P]=(0,a.useState)("all"),[$,H]=(0,a.useState)("all"),[D,O]=(0,a.useState)("all"),[V,F]=(0,a.useState)("all"),[B,L]=(0,a.useState)({open:!1,car:null}),[Y,_]=(0,a.useState)({open:!1,car:null}),R=(0,a.useCallback)(async(e=p,t=b)=>{try{let a=localStorage.getItem("token"),l=`${M}/car/admin-car-pagination?page=${e}&limit=${t}`,s=await fetch(l,{headers:{...a?{authorization:a}:{}}}),r=await s.json().catch(()=>({}));s.status?(h(Array.isArray(r.data.cars)?r.data.cars:[]),w(r.data.pagination??null)):g.default.error(r?.message||"Failed to fetch cars")}catch(e){g.default.error("Network error while fetching cars")}finally{C(!1)}},[p,b]),q=(0,a.useCallback)(async()=>{try{let e=localStorage.getItem("token"),[t,a]=await Promise.all([fetch(`${M}/car/car-company`,{headers:{...e?{authorization:e}:{}}}),fetch(`${M}/car/model-year`,{headers:{...e?{authorization:e}:{}}})]),[l,s]=await Promise.all([t.json().catch(()=>({})),a.json().catch(()=>({}))]);(l?.code??(t.ok?200:t.status))===200&&I(Array.isArray(l.data)?l.data:[]),(s?.code??(a.ok?200:a.status))===200&&A(Array.isArray(s.data)?s.data:[])}catch(e){console.error("Failed to load filters:",e)}},[]);(0,a.useEffect)(()=>{C(!0),R(p,b)},[p,b,R]),(0,a.useEffect)(()=>{q()},[q]),(0,a.useEffect)(()=>{("all"===E||"all"===$)&&O("all")},[E,$]),(0,a.useEffect)(()=>{"all"===D&&F("all")},[D]);let U=async(e,t)=>{let a=localStorage.getItem("token");try{if(t){let l=await fetch(`${M}/car/edit-admin-car`,{method:"POST",headers:{"content-type":"application/json",...a?{authorization:a}:{}},body:JSON.stringify({id:t,...e})}),s=await l.json().catch(()=>({}));(s?.code??(l.ok?200:l.status))===200?(g.default.success(s.message||"Car updated"),await R()):g.default.error(s?.message||"Update failed")}else{let t=await fetch(`${M}/car/add-admin-car`,{method:"POST",headers:{"content-type":"application/json",...a?{authorization:a}:{}},body:JSON.stringify(e)}),l=await t.json().catch(()=>({}));(l?.code??(t.ok?200:t.status))===200?(g.default.success(l.message||"Car added"),await R()):g.default.error(l?.message||"Add failed")}}catch(e){g.default.error("Network error")}},X=async e=>{let t=localStorage.getItem("token");try{let a=await fetch(`${M}/car/delete-admin-car/${e}`,{method:"DELETE",headers:{...t?{authorization:t}:{}}}),l=await a.json().catch(()=>({}));(l?.code??(a.ok?200:a.status))===200?(g.default.success(l.message||"Deleted"),await R()):g.default.error(l?.message||"Delete failed")}catch(e){g.default.error("Network error")}},W=(0,a.useMemo)(()=>x.filter(e=>{let t=!0;if("all"!==E){let a=Number(E);t=t&&(e.modelYearId===a||e.modelyear?.id===a)}if("all"!==$){let a=Number($);t=t&&(e.carCompanyId===a||e.carcompany?.id===a)}if("all"!==D){let a=Number(D);t=t&&(e.modelId===a||e.model?.id===a)}if("all"!==V){let a=Number(V);t=t&&(e.subModelId===a||e.submodel?.id===a)}return t}),[x,E,$,D,V]),G=(0,a.useCallback)(()=>{P("all"),H("all"),O("all"),F("all")},[]);return(0,t.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-0",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Car Management"})}),(0,t.jsx)("div",{children:(0,t.jsxs)(d.Button,{onClick:()=>{u(null),c(!0)},className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white gap-2 text-sm md:text-base",children:[(0,t.jsx)(l.Plus,{size:18}),"Add New Car"]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"pt-4 md:pt-6",children:(0,t.jsx)("div",{className:"flex flex-col md:flex-row flex-wrap gap-2 md:gap-4 items-start md:items-center justify-between w-full",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 md:gap-4 items-center",children:[(0,t.jsxs)(o.Select,{value:E,onValueChange:e=>{P(e),"all"===e&&(O("all"),F("all"))},children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full sm:w-40 text-sm",children:(0,t.jsx)(o.SelectValue,{placeholder:"Year: All"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Years"}),T.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.year},e.id))]})]}),(0,t.jsxs)(o.Select,{value:$,onValueChange:e=>{H(e),"all"===e&&(O("all"),F("all"))},children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full sm:w-40 text-sm",children:(0,t.jsx)(o.SelectValue,{placeholder:"Company: All"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"all",children:"All Companies"}),z.map(e=>(0,t.jsx)(o.SelectItem,{value:String(e.id),children:e.name},e.id))]})]}),(0,t.jsx)(d.Button,{variant:"outline",className:"w-full sm:w-auto text-sm",onClick:G,children:"Clear Filters"})]})})})})}),(0,t.jsx)("div",{children:(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{children:[(0,t.jsx)("div",{className:"overflow-hidden -mx-4 md:mx-0",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase",children:"Image"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase hidden sm:table-cell",children:"Model & Sub model"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase hidden md:table-cell",children:"Company"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase hidden lg:table-cell",children:"Year"}),(0,t.jsx)("th",{className:"text-left py-2 md:py-3 px-3 md:px-4 text-xs font-semibold text-muted-foreground uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:(S?Array(Math.min(6,b)).fill(null):W).map((e,a)=>e?(0,t.jsxs)("tr",{className:"border-b border-border hover:bg-accent/50 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsx)("img",{src:e?.carImage?`https://automate3d-dev.com/automate_api/dist/uploads/${e?.carImage}`:"/placeholder.svg",alt:e?.model?.name??"car",className:"h-10 w-10 md:h-12 md:w-12 rounded-lg object-cover"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 hidden sm:table-cell",children:(0,t.jsxs)("div",{className:"font-medium text-foreground text-sm",children:[e?.model?.name," ",e?.submodel?.name?`/ ${e.submodel.name}`:""]})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-muted-foreground hidden md:table-cell text-sm",children:e?.carcompany?.name}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-muted-foreground hidden lg:table-cell text-sm",children:e?.modelyear?.year}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsxs)("div",{className:"flex gap-2 md:gap-3",children:[(0,t.jsx)("button",{onClick:()=>{_({open:!0,car:e})},className:"text-blue-600 hover:cursor-pointer hover:text-blue-700",children:(0,t.jsx)(s.Eye,{size:16})}),(0,t.jsx)("button",{onClick:()=>{u(e),c(!0)},className:"text-blue-600 hover:cursor-pointer hover:text-blue-700",children:(0,t.jsx)(r.Edit2,{size:16})}),(0,t.jsx)("button",{onClick:()=>L({open:!0,car:e}),className:"text-red-600 hover:cursor-pointer hover:text-red-700",children:(0,t.jsx)(i.Trash2,{size:16})})]})})]},e?.id??a):(0,t.jsxs)("tr",{className:"border-b border-border",children:[(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 rounded-lg bg-muted animate-pulse"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 hidden sm:table-cell",children:(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-32 animate-pulse"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-muted-foreground hidden md:table-cell text-sm",children:(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4 text-muted-foreground hidden lg:table-cell text-sm",children:(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"})}),(0,t.jsx)("td",{className:"py-3 md:py-4 px-3 md:px-4",children:(0,t.jsx)("div",{className:"h-6 bg-muted rounded w-24 animate-pulse"})})]},`skeleton-${a}`))})]})}),(0,t.jsxs)("div",{className:"mt-4 md:mt-6 flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-0",children:[(0,t.jsxs)("p",{className:"text-xs md:text-sm text-muted-foreground",children:["Showing"," ",v?(v.currentPage-1)*v.perPage+1:1," ","to"," ",v?Math.min(v.currentPage*v.perPage,v.total):x.length||0," ","of ",v?.total??x.length??0," results"]}),(0,t.jsxs)("div",{className:"flex gap-1 md:gap-2 overflow-x-auto",children:[(0,t.jsx)(d.Button,{variant:"outline",size:"sm",disabled:p<=1,onClick:()=>f(e=>Math.max(1,e-1)),className:"text-xs md:text-sm",children:"â†"}),(()=>{let e=v?.totalPages??1,a=[];if(e<=6)for(let t=1;t<=e;t++)a.push(t);else{for(let t=1;t<=Math.min(3,e);t++)a.push(t);p>3&&p<e-2&&(p>4&&a.push(-1),a.push(p)),e>3&&a.push(-2);for(let t=Math.max(e-2,4);t<=e;t++)a.push(t)}return a.map((e,a)=>e<0?(0,t.jsx)("span",{className:"px-2 text-muted-foreground",children:"..."},`ellipsis-${a}`):(0,t.jsx)(d.Button,{variant:e===p?"default":"outline",size:"sm",className:`text-xs md:text-sm ${e===p?"bg-blue-600":""}`,onClick:()=>f(e),children:e},e))})(),(0,t.jsx)(d.Button,{variant:"outline",size:"sm",disabled:!!v&&p>=v.totalPages,onClick:()=>f(e=>e+1),className:"text-xs md:text-sm",children:"â†’"}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsxs)(o.Select,{onValueChange:e=>{j(Number(e)),f(1)},children:[(0,t.jsx)(o.SelectTrigger,{className:"w-20 text-sm",children:(0,t.jsx)(o.SelectValue,{placeholder:`${b}`})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"20",children:"20"}),(0,t.jsx)(o.SelectItem,{value:"50",children:"50"}),(0,t.jsx)(o.SelectItem,{value:"100",children:"100"})]})]})})]})]})]})})}),e&&(0,t.jsx)(y,{isOpen:e,onClose:()=>{c(!1),u(null)},onSave:U,companies:z,years:T,initial:m}),Y.open&&(0,t.jsx)(k,{isOpen:Y.open,onClose:()=>_({open:!1,car:null}),car:Y.car}),B.open&&(0,t.jsx)(N.default,{isOpen:B.open,onClose:()=>L({open:!1,car:null}),onConfirm:async()=>{try{L(e=>({...e,isLoading:!0})),await X(B.car.id)}finally{L({open:!1,car:null})}},title:"Confirm Deletion",description:"You are about to permanently delete this car. This action cannot be undone.",itemName:B.car?.model?.name,isLoading:B.isLoading})]})}e.s(["default",()=>z],79543)}]);